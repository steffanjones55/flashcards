
<!DOCTYPE html>
<html>
<head>
  <title>Language Flashcards</title>

  <style>
  body {
    background-color: #2e3d33; /* Chalkboard Green */
    background-image: radial-gradient(#3a4d41 10%, transparent 10%);
    background-size: 20px 20px;
    color: #f0f0f0;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    margin: 0;
    padding: 20px;
    text-align: center;
  }

  h1 {
    font-family: 'Times New Roman', serif;
    font-size: 3.5rem;
    color: white;
    text-shadow: 2px 2px 0px #000, 0 0 10px rgba(255,255,255,0.2);
    margin-bottom: 20px;
  }

  /* The Desk Container */
  #home, #flashcards {
    max-width: 850px;
    margin: 0 auto;
    background: #5d4037; /* Warm Wood */
    padding: 35px;
    border-radius: 15px;
    border: 10px solid #3e2723;
    box-shadow: 0 20px 50px rgba(0,0,0,0.6);
  }

  /* Organized Unit Grid */
  .unit-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
    gap: 12px;
    margin-top: 20px;
  }

  /* The "Index Card" */
  .card {
    width: 380px;
    height: 220px;
    margin: 30px auto;
    background-color: #fffdec; /* Paper Ivory */
    background-image: linear-gradient(#d1e5f0 1px, transparent 1px);
    background-size: 100% 30px; /* Lined paper look */
    color: #1a237e; /* Blue pen ink */
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 34px;
    font-weight: bold;
    font-family: "Comic Sans MS", "Marker Felt", cursive;
    border-radius: 4px;
    box-shadow: 8px 8px 0px rgba(0,0,0,0.2);
    cursor: pointer;
    transition: transform 0.1s;
    border: 1px solid #dcdcdc;
    padding: 20px;
  }

  .card:hover {
    transform: scale(1.02) rotate(1deg);
  }

  /* Classroom Buttons */
  button {
    background-color: #f5f5f5;
    color: #333;
    border: 2px solid #222;
    border-radius: 5px;
    padding: 10px 15px;
    font-size: 15px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 3px 3px 0px #000;
    transition: all 0.1s;
  }

  button:hover {
    background-color: #e0e0e0;
    transform: translate(-1px, -1px);
    box-shadow: 4px 4px 0px #000;
  }

  button:active {
    transform: translate(2px, 2px);
    box-shadow: 0px 0px 0px #000;
  }

  #directionBtn {
    background-color: #ffd54f; /* Pencil Yellow */
    font-size: 1.2rem;
    padding: 15px 30px;
    margin-bottom: 20px;
  }

  .connector-btn {
    background-color: #b2dfdb !important;
    grid-column: 1 / -1; /* Makes it span across the grid */
    margin-top: 10px;
  }

  #progress-text {
    font-family: monospace;
    background: rgba(0,0,0,0.3);
    display: inline-block;
    padding: 5px 15px;
    border-radius: 20px;
  }

  .hidden { display: none; }
  hr { border: 1px dashed rgba(255,255,255,0.3); margin: 30px 0; }
</style>

<body>

<h1>Language Flashcards</h1>

<div id="home">
  <button onclick="toggleDirection()" id="directionBtn">Welsh â†’ English</button>

  <div class="unit-grid">
    <button onclick="startUnit('unitA_days')">Days of the Week</button>
    <button onclick="startUnit('unitB_months')">Months</button>
    <button onclick="startUnit('unitC_colours')">Colours</button>
    <button onclick="startUnit('unit1')">Unit 1</button>
    <button onclick="startUnit('unit2')">Unit 2</button>
    <button onclick="startUnit('unit3')">Unit 3</button>
    <button onclick="startUnit('unit4')">Unit 4</button>
    <button onclick="startUnit('unit5')">Unit 5</button>
    <button onclick="startUnit('unit6')">Unit 6</button>
    <button onclick="startUnit('unit7')">Unit 7</button>
    <button onclick="startUnit('unit8')">Unit 8</button>
    <button onclick="startUnit('unit9')">Unit 9</button>
    <button onclick="startUnit('unit10')">Unit 10</button>
    <button onclick="startUnit('connectors_1_5')" class="connector-btn">Connectors (Units 1-5)</button>
  </div>

  <hr>
  <h2>Test Mode</h2>
  <div id="test-units" style="text-align: left; column-count: 2; margin-bottom: 15px;"></div>
  <button onclick="startTest()" style="width: 100%; background: #81c784;">Start Test</button>

  <hr>
  <button onclick="showGlossary()">Open Glossary</button>
</div>

<div id="flashcards" class="hidden">
  <h2 id="unit-title" style="margin-top:0; color: #ffeb3b;"></h2>
  <p id="progress-text"></p>
  <div class="card" onclick="flipCard()">
    <span id="card-text"></span>
  </div>
  <div style="margin-top: 20px;">
    <button onclick="nextCard()">Next Card</button>
    <button onclick="repeatWord()" style="background: #ff8a65;">Mark Tricky</button>
    <button id="review-now-btn" onclick="reviewSavedNow()" class="hidden" style="background-color: #ffeb3b;">Review Tricky Now</button>
    <button onclick="goHome()">Back to Desk</button>
  </div>
</div>

<script>
  const UNITS = {
    unitA_days: [
  { front: "dydd Sul", back: "Sunday" },
  { front: "dydd Llun", back: "Monday" },
  { front: "dydd Mawrth", back: "Tuesday" },
  { front: "dydd Mercher", back: "Wednesday" },
  { front: "dydd Iau", back: "Thursday" },
  { front: "dydd Gwener", back: "Friday" },
  { front: "dydd Sadwrn", back: "Saturday" }
],

  unitB_months: [
  { front: "mis Ionawr", back: "January" },
  { front: "mis Chwefror", back: "February" },
  { front: "mis Mawrth", back: "March" },
  { front: "mis Ebrill", back: "April" },
  { front: "mis Mai", back: "May" },
  { front: "mis Mehefin", back: "June" },
  { front: "mis Gorffennaf", back: "July" },
  { front: "mis Awst", back: "August" },
  { front: "mis Medi", back: "September" },
  { front: "mis Hydref", back: "October" },
  { front: "mis Tachwedd", back: "November" },
  { front: "mis Rhagfyr", back: "December" }
],

unitC_colours: [
  { front: "brown", back: "brown" },
  { front: "coch", back: "red" },
  { front: "du", back: "black" },
  { front: "glas", back: "blue" },
  { front: "gwyn", back: "white" },
  { front: "gwyrdd", back: "green" },
  { front: "llwyd", back: "grey" },
  { front: "melyn", back: "yellow" },
  { front: "oren", back: "orange" },
  { front: "pinc", back: "pink" },
  { front: "porffor / piws", back: "purple" }
],

unit1: [
  { front: "nos", back: "night" },
  { front: "noswaith", back: "evening" },
  { front: "paned", back: "cuppa" },
  { front: "bore(au)", back: "morning(s)" },
  { front: "car (ceir)", back: "car(s)" },
  { front: "croeso", back: "welcome" },
  { front: "dosbarth(iadau)", back: "class(es)" },
  { front: "byw", back: "to live" },
  { front: "darllen", back: "to read" },
  { front: "dysgu", back: "to learn; to teach" },
  { front: "da", back: "good" },
  { front: "ofnadwy", back: "terrible" },
  { front: "a", back: "and" },
  { front: "chi", back: "you" },
  { front: "diolch", back: "thanks" },
  { front: "dyna pam", back: "thatâ€™s why" },
  { front: "efo", back: "with" },
  { front: "eto", back: "again" },
  { front: "fi", back: "me" },
  { front: "heddiw", back: "today" },
  { front: "hwyl!", back: "bye!" },
  { front: "i", back: "to; for" },
  { front: "problem(au)", back: "problem(s)" },
  { front: "rhaglen(ni)", back: "programme(s)" },
  { front: "uned(au)", back: "unit(s)" },
  { front: "enw(au)", back: "name(s)" },
  { front: "heddlu", back: "police" },
  { front: "pâ€™nawn(iau)", back: "afternoon(s)" },
  { front: "rhif(au)", back: "number(s)" },
  { front: "gwylio", back: "to watch" },
  { front: "gyrru", back: "to drive" },
  { front: "stopio", back: "to stop" },
  { front: "pinc", back: "pink" },
  { front: "wedi blino", back: "tired" },
  { front: "iawn", back: "ok; very" },
  { front: "lle?", back: "where?" },
  { front: "ond", back: "but" },
  { front: "pawb", back: "everybody" },
  { front: "pwy?", back: "who?" },
  { front: "rÅµan", back: "now" },
  { front: "sut?", back: "how?" },
  { front: "ti", back: "you" },
  { front: "yma", back: "here" },
  { front: "yn", back: "in" }
],

unit2: [
  { front: "cacen(nau)", back: "cake(s)" },
  { front: "pÃªl (peli)", back: "ball(s)" },
  { front: "bwyd", back: "food" },
  { front: "caws", back: "cheese" },
  { front: "cerdyn (cardiau)", back: "card(s)" },
  { front: "cig(oedd)", back: "meat(s)" },
  { front: "coffi(s)", back: "coffee(s)" },
  { front: "criced", back: "cricket" },
  { front: "cyrri(s)", back: "curry (-ies)" },
  { front: "dillad", back: "clothes" },
  { front: "dydd(iau)", back: "day(s)" },
  { front: "golff", back: "golf" },
  { front: "gwin", back: "wine" },
  { front: "hoci", back: "hockey" },
  { front: "bod", back: "to be" },
  { front: "bwyta", back: "to eat" },
  { front: "canu", back: "to sing" },
  { front: "chwarae", back: "to play" },
  { front: "dawnsio", back: "to dance" },
  { front: "gweithio", back: "to work" },
  { front: "gweld", back: "to see" },
  { front: "gwneud", back: "to do; to make" },
  { front: "bendigedig", back: "fantastic" },
  { front: "coch", back: "red" },
  { front: "gwyn", back: "white" },
  { front: "ar", back: "on" },
  { front: "be?/beth?", back: "what?" },
  { front: "chwaith", back: "either" },
  { front: "dim", back: "not; nothing; zero" },
  { front: "hefyd", back: "also" },
  { front: "heno", back: "tonight" },
  { front: "wythnos(au)", back: "week(s)" },
  { front: "llefrith / llaeth", back: "milk" },
  { front: "papur(au)", back: "paper(s)" },
  { front: "papur newydd", back: "newspaper" },
  { front: "pÃªl-droed", back: "football" },
  { front: "radio", back: "radio" },
  { front: "siocled(i)", back: "chocolate(s)" },
  { front: "siwgr", back: "sugar" },
  { front: "teledu", back: "television" },
  { front: "tennis", back: "tennis" },
  { front: "tiwtor(iaid)", back: "tutor(s)" },
  { front: "tost", back: "toast" },
  { front: "hoffi", back: "to like" },
  { front: "licio", back: "to like" },
  { front: "mynd", back: "to go" },
  { front: "prynu", back: "to buy" },
  { front: "sgio", back: "to ski" },
  { front: "siopa", back: "to shop" },
  { front: "smwddio", back: "to iron" },
  { front: "yfed", back: "to drink" },
  { front: "neis", back: "nice" },
  { front: "newydd", back: "new" },
  { front: "siÅµr", back: "sure" },
  { front: "mynd am dro", back: "to go for a walk" },
  { front: "pryd?", back: "when?" },
  { front: "wrth gwrs", back: "of course" },
  { front: "ych a fi", back: "yuck" },
  { front: "yfory", back: "tomorrow" }
],
unit3: [
  { front: "diod(ydd)", back: "drink(s)" },
  { front: "punt (punnoedd)", back: "pound(s) (money)" },
  { front: "iÃ¢", back: "ice" },
  { front: "swydd(i)", back: "job(s)" },
  { front: "potel(i)", back: "bottle(s)" },
  { front: "blodyn (blodau)", back: "flower(s)" },
  { front: "hufen iÃ¢", back: "ice cream" },
  { front: "caffi(s)", back: "cafÃ©(s)" },
  { front: "pupur", back: "pepper" },
  { front: "dÅµr", back: "water" },
  { front: "pysgodyn (pysgod)", back: "fish(es)" },
  { front: "finegr", back: "vinegar" },
  { front: "rhywbeth", back: "something" },
  { front: "ffÃ´n (ffonau)", back: "phone(s)" },
  { front: "sglodion", back: "chips" },
  { front: "gwaith", back: "work" },
  { front: "te", back: "tea" },
  { front: "halen", back: "salt" },
  { front: "tÅ· (tai)", back: "house(s)" },
  { front: "cael", back: "to have" },
  { front: "isio / eisiau", back: "to want" },
  { front: "clywed", back: "to hear" },
  { front: "nofio", back: "to swim" },
  { front: "dallt / deall", back: "to understand" },
  { front: "arall", back: "other; else" },
  { front: "os gwelwch chiâ€™n dda", back: "please" },
  { front: "dyma", back: "here is; this is" },
  { front: "rhywbeth arall", back: "something else" }
],
unit4: [
  { front: "Cymru", back: "Wales" },
  { front: "dynes", back: "woman" },
  { front: "gÃªm (gemau)", back: "game(s); match(es)" },
  { front: "gwlad (gwledydd)", back: "country; countries" },
  { front: "gwyliau", back: "holiday(s)" },
  { front: "Lloegr", back: "England" },
  { front: "siop(au)", back: "shop(s)" },
  { front: "tref(i)", back: "town(s)" },
  { front: "tudalen(nau)", back: "page(s)" },
  { front: "theatr(au)", back: "theatre(s)" },
  { front: "beic(iau)", back: "bike(s)" },
  { front: "byd", back: "world" },
  { front: "dyn(ion)", back: "man; men" },
  { front: "gwely(au)", back: "bed(s)" },
  { front: "Nadolig", back: "Christmas" },
  { front: "penwythnos(au)", back: "weekend(s)" },
  { front: "sinema (sinemÃ¢u)", back: "cinema(s)" },
  { front: "tÃ®m (timau)", back: "team(s)" },
  { front: "aros", back: "to stay; to wait" },
  { front: "cerdded", back: "to walk" },
  { front: "cofio", back: "to remember" },
  { front: "deud", back: "to say; to tell" },
  { front: "dÅµad", back: "to come" },
  { front: "hedfan", back: "to fly" },
  { front: "helpu", back: "to help" },
  { front: "nabod", back: "to know; to recognise" },
  { front: "newid", back: "to change" },
  { front: "aml", back: "often" },
  { front: "bach", back: "small" },
  { front: "gwreiddiol", back: "original" },
  { front: "a deud y gwir", back: "to tell the truth" },
  { front: "adre", back: "home" },
  { front: "dros", back: "over" },
  { front: "dyna", back: "there is" },
  { front: "gan", back: "by; from (a person)" },
  { front: "pan", back: "when" },
  { front: "pob", back: "every" },
  { front: "pob lwc", back: "good luck" },
  { front: "â€™ta", back: "or; then" },
  { front: "weithiau", back: "sometimes" },
  { front: "wir", back: "indeed" },
  { front: "yno", back: "there" }
],
unit5: [
  { front: "eglwys(i)", back: "church(es)" },
  { front: "lolfa", back: "lounge" },
  { front: "llyfrgell(oedd)", back: "library" },
  { front: "swyddfa bost", back: "post office" },
  { front: "tafarn(au)", back: "pub(s)" },
  { front: "ysgol(ion)", back: "school(s)" },
  { front: "diwetha", back: "last; previous" },
  { front: "amser", back: "time" },
  { front: "banc(iau)", back: "bank(s)" },
  { front: "brecwast(au)", back: "breakfast(s)" },
  { front: "cartref(i)", back: "home(s)" },
  { front: "clwb (clybiau)", back: "club(s)" },
  { front: "llestr(i)", back: "dish(es)" },
  { front: "llyfr(au)", back: "book(s)" },
  { front: "parc(iau)", back: "park(s)" },
  { front: "rygbi", back: "rugby" },
  { front: "stamp(iau)", back: "stamp(s)" },
  { front: "swper", back: "supper" },
  { front: "ysbyty (ysbytai)", back: "hospital(s)" },
  { front: "coginio", back: "to cook" },
  { front: "edrych ar", back: "to look at" },
  { front: "garddio", back: "to garden" },
  { front: "golchi", back: "to wash" },
  { front: "ymlacio", back: "to relax" },
  { front: "ymolchi", back: "to wash (oneself)" },
  { front: "ddoe", back: "yesterday" },
  { front: "gydaâ€™r nos", back: "in the evening" },
  { front: "neithiwr", back: "last night" },
  { front: "wedyn", back: "afterwards" }
],
unit6: [
  { front: "awyren(nau)", back: "plane(s)" },
  { front: "barn", back: "opinion" },
  { front: "cÃ¢n (caneuon)", back: "song(s)" },
  { front: "gwraig (gwragedd)", back: "wife (wives)" },
  { front: "neuadd(au)", back: "hall(s)" },
  { front: "braf", back: "fine (weather)" },
  { front: "cymylog", back: "cloudy" },
  { front: "cynnes", back: "warm" },
  { front: "diflas", back: "boring, miserable" },
  { front: "gwlyb", back: "wet" },
  { front: "gwyntog", back: "windy" },
  { front: "hapus", back: "happy" },
  { front: "hyfryd", back: "nice, lovely" },
  { front: "mawr", back: "big" },
  { front: "oer", back: "cold" },
  { front: "poeth", back: "hot" },
  { front: "prysur", back: "busy" },
  { front: "pwysig", back: "important" },
  { front: "stormus", back: "stormy" },
  { front: "swnllyd", back: "noisy" },
  { front: "sych", back: "dry" },
  { front: "bws (bysiau)", back: "bus(es)" },
  { front: "cant (cannoedd)", back: "hundred(s)" },
  { front: "cyfarfod(ydd)", back: "meeting(s)" },
  { front: "dechrau", back: "start, beginning" },
  { front: "diwedd", back: "end" },
  { front: "eira", back: "snow" },
  { front: "glaw", back: "rain" },
  { front: "gÅµr (gwÅ·r)", back: "husband(s)" },
  { front: "hanner", back: "half" },
  { front: "llawr", back: "floor" },
  { front: "lle(fydd)", back: "place(s)" },
  { front: "teulu(oedd)", back: "family (families)" },
  { front: "traeth(au)", back: "beach(es)" },
  { front: "trÃªn (trenau)", back: "train(s)" },
  { front: "tywydd", back: "weather" },
  { front: "bwrw eira", back: "to snow" },
  { front: "bwrw glaw", back: "to rain" },
  { front: "cau", back: "to close" },
  { front: "cyfarfod", back: "to meet" },
  { front: "dechrau", back: "to start" },
  { front: "gadael", back: "to leave" },
  { front: "gorfod", back: "to have to" },
  { front: "gorffen", back: "to finish" },
  { front: "gwybod", back: "to know (a fact)" },
  { front: "medru", back: "to be able to" },
  { front: "rhedeg", back: "to run" },
  { front: "torri lawr", back: "to break down" },
  { front: "pam?", back: "why?" },
  { front: "rhywle", back: "somewhere" },
  { front: "tua", back: "about, approximately" }
],

    unit7: [
  { front: "awr (oriau)", back: "hour(s)" },
  { front: "merch(ed)", back: "girl(s), daughter(s)" },
  { front: "ceiniog(au)", back: "penny (pennies)" },
  { front: "stryd(oedd)", back: "street(s)" },
  { front: "ffasiwn", back: "fashion" },
  { front: "postmon (postmyn)", back: "postman (postmen)" },
  { front: "ffermwr (ffermwyr)", back: "farmer(s)" },
  { front: "mab (meibion)", back: "son(s)" },
  { front: "pres", back: "money; brass" },
  { front: "oed", back: "age (of person)" },
  { front: "rhew", back: "ice" },
  { front: "pen-blwydd (pen-blwyddi)", back: "birthday(s)" },
  { front: "tÅ· bwyta (tai bwyta)", back: "restaurant(s)" },
  { front: "staff", back: "staff" },
  { front: "codi", back: "to get up, to lift" },
  { front: "ffeindio", back: "to find" },
  { front: "blin", back: "angry" },
  { front: "hen", back: "old" },
  { front: "clÃªn", back: "nice, friendly" },
  { front: "hwyr", back: "late" },
  { front: "cynta", back: "first" },
  { front: "nesa", back: "next" },
  { front: "drud", back: "expensive" },
  { front: "rhad", back: "cheap" },
  { front: "enwog", back: "famous" },
  { front: "trist", back: "sad" },
  { front: "gwirion", back: "silly" },
  { front: "faint?", back: "how much? how many?" },
  { front: "oâ€™r gloch", back: "oâ€™clock" }
],
    unit8: [
  { front: "athrawes(au)", back: "teacher(s) (f)" },
  { front: "drama (dramÃ¢u)", back: "drama, play(s)" },
  { front: "ffatri (ffatrÃ¯oedd)", back: "factory (factories)" },
  { front: "fflat(iau)", back: "flat(s)" },
  { front: "gorsaf(oedd)", back: "station(s)" },
  { front: "hogan (genod)", back: "girl(s)" },
  { front: "nyrs(ys)", back: "nurse(s)" },
  { front: "pobol", back: "people" },
  { front: "rheolwraig", back: "manager (f)" },
  { front: "actor(ion)", back: "actor(s)" },
  { front: "athro (athrawon)", back: "teacher(s) (m)" },
  { front: "camera (camerÃ¢u)", back: "camera(s)" },
  { front: "cogydd(ion)", back: "chef(s), cook(s)" },
  { front: "coleg(au)", back: "college(s)" },
  { front: "cyngerdd (cyngherddau)", back: "concert(s)" },
  { front: "derbynnydd", back: "receptionist" },
  { front: "gwesty (gwestai)", back: "hotel(s)" },
  { front: "hogyn (hogiau)", back: "boy(s)" },
  { front: "maes parcio", back: "car park" },
  { front: "meddyg(on)", back: "doctor(s)" },
  { front: "munud(au)", back: "minute(s)" },
  { front: "pennaeth", back: "head (person)" },
  { front: "plismon (plismyn)", back: "policeman (policemen)" },
  { front: "rheolwr (rheolwyr)", back: "manager(s) (m)" },
  { front: "rhywun", back: "someone" },
  { front: "tacsi(s)", back: "taxi(s)" },
  { front: "tocyn(nau)", back: "ticket(s)" },
  { front: "adolygu", back: "to revise, to review" },
  { front: "benthyg", back: "to borrow, to lend" },
  { front: "cadw", back: "to keep, to reserve" },
  { front: "ffonio", back: "to phone" },
  { front: "gofyn", back: "to ask" },
  { front: "siarad", back: "to talk" },
  { front: "talu", back: "to pay" },
  { front: "allan", back: "out" },
  { front: "ar gael", back: "available" },
  { front: "ar-lein", back: "online" },
  { front: "mewn", back: "in a" },
  { front: "yr un", back: "each" }
],
    unit9: [
  { front: "cegin(au)", back: "kitchen(s)" },
  { front: "cerddoriaeth", back: "music" },
  { front: "garej(is)", back: "garage(s)" },
  { front: "Lerpwl", back: "Liverpool" },
  { front: "Saesneg", back: "English" },
  { front: "bwrdd (byrddau)", back: "table(s); board(s)" },
  { front: "cloc(iau)", back: "clock(s)" },
  { front: "cwrw", back: "beer" },
  { front: "drws (drysau)", back: "door(s)" },
  { front: "ebost (ebyst)", back: "email(s)" },
  { front: "gair (geiriau)", back: "word(s)" },
  { front: "help", back: "help" },
  { front: "llawer", back: "a lot" },
  { front: "peint(iau)", back: "pint(s)" },
  { front: "tipyn", back: "a little" },
  { front: "agor", back: "to open" },
  { front: "anfon", back: "to send" },
  { front: "ateb", back: "to answer" },
  { front: "bowlio", back: "to bowl" },
  { front: "cadwâ€™n heini", back: "to keep fit" },
  { front: "cyrraedd", back: "to arrive" },
  { front: "gwrando ar", back: "to listen to" },
  { front: "llenwi", back: "to fill" },
  { front: "mwynhau", back: "to enjoy" },
  { front: "mynd Ã¢", back: "to take (something somewhere)" },
  { front: "peintio", back: "to paint" },
  { front: "seiclo", back: "to cycle" },
  { front: "ar-lein", back: "online" },
  { front: "bechod!", back: "what a shame!" },
  { front: "echdoe", back: "the day before yesterday" },
  { front: "felly", back: "therefore, so" },
  { front: "go lew", back: "quite good" },
  { front: "yna", back: "there; then" }
],
    unit10: [
  { front: "coeden (coed)", back: "tree(s)" },
  { front: "deilen (dail)", back: "leaf (leaves)" },
  { front: "miliwn (miliynau)", back: "million(s)" },
  { front: "capel(i)", back: "chapel(s)" },
  { front: "capten", back: "captain" },
  { front: "Dydd Calan", back: "New Yearâ€™s Day" },
  { front: "Dydd GÅµyl Dewi", back: "St. Davidâ€™s Day" },
  { front: "gaeaf", back: "winter" },
  { front: "gwanwyn", back: "spring" },
  { front: "Sbaen", back: "Spain" },
  { front: "siec(iau)", back: "cheque(s)" },
  { front: "haf", back: "summer" },
  { front: "hydref", back: "autumn" },
  { front: "mis(oedd)", back: "month(s)" },
  { front: "mÃ´r (moroedd)", back: "sea(s)" },
  { front: "pwll (pyllau)", back: "pool(s)" },
  { front: "tymor (tymhorau)", back: "season(s), term(s)" },
  { front: "casglu", back: "to collect" },
  { front: "ennill", back: "to win" },
  { front: "gwario", back: "to spend (money)" },
  { front: "cynnar", back: "early" },
  { front: "syth", back: "straight" },
  { front: "mwy", back: "more" },
  { front: "am", back: "about" },
  { front: "dal", back: "still" },
  { front: "i ffwrdd", back: "away" },
  { front: "i mewn", back: "in" }
],

  connectors_1_5: [
  // The Essentials
  { front: "a / ac", back: "and (use 'ac' before vowels)" },
  { front: "ond", back: "but" },
  { front: "hefyd", back: "also / too" },
  { front: "dyna pam", back: "thatâ€™s why" },
  
  // Prepositions (Place & Direction)
  { front: "yn", back: "in / at" },
  { front: "ar", back: "on" },
  { front: "i", back: "to / for" },
  { front: "adre", back: "home (homeward)" },
  { front: "dros", back: "over" },
  
  // Logic & Connection
  { front: "eto", back: "again" },
  { front: "â€™ta", back: "then / or" },
  { front: "pan", back: "when" },
  { front: "pob", back: "every" },
  { front: "gydaâ€™r nos", back: "in the evening" },
  
  // Demonstratives (Pointing)
  { front: "dyma", back: "here is / this is" },
  { front: "dyna", back: "there is / that is" },
  
  // Location Glue
  { front: "yma", back: "here" },
  { front: "yno", back: "there" },
  
  // Question Words (The 'Connectors' of conversation)
  { front: "sut?", back: "how?" },
  { front: "pwy?", back: "who?" },
  { front: "lle?", back: "where?" },
  { front: "be? / beth?", back: "what?" },
  { front: "pryd?", back: "when?" }
],
    
  };

let direction = "welsh-to-english";
let words = [];
let index = 0;
let showingFront = true;
let isTestMode = false;
let testWords = [];
let repeatQueue = [];


const testUnitsDiv = document.getElementById("test-units");

Object.keys(UNITS).forEach(unit => {
  testUnitsDiv.innerHTML += `
    <label>
      <input type="checkbox" value="${unit}">
      ${unit}
    </label><br>
  `;
});

function startUnit(unit) {
  // 1. Prepare the words
  words = [...UNITS[unit]].sort(() => Math.random() - 0.5);
  index = 0;
  showingFront = true;
  
  // 2. Reset the system for a fresh start
  isTestMode = false; 
  repeatQueue = [];   

  // 3. Update the UI
  document.getElementById("home").classList.add("hidden");
  document.getElementById("flashcards").classList.remove("hidden");
  document.getElementById("unit-title").innerText = unit.toUpperCase();

  showCard();
  document.getElementById("progress-text").innerText = (index + 1) + " / " + words.length;
   // ... your existing code ...
  document.getElementById("review-now-btn").classList.add("hidden"); // Hide button for new units
  showCard();
}

function nextCard() {
  index++;

  // Check if we reached the end of the current pile
  if (index >= words.length) {
    
    // If we have words to repeat, start a 'mini-round' with them
    if (repeatQueue.length > 0) {
      words = [...repeatQueue].sort(() => Math.random() - 0.5); 
      repeatQueue = []; // Clear it so we don't loop forever
      index = 0;
      showingFront = true;
      showCard();
      alert("Let's try those tricky ones again!");
      return;
    }

    // Truly finished? Go home or show test results
    if (isTestMode) {
      showConfetti();
    } else {
      goHome();
    }
    return;
  }

  showingFront = true;
  showCard();
}

function repeatWord() {
  const currentWord = words[index];
  if (!repeatQueue.includes(currentWord)) {
    repeatQueue.push(currentWord);
    document.getElementById("review-now-btn").classList.remove("hidden");
  }
} // <--- This brace was missing!

function reviewSavedNow() {
  if (repeatQueue.length === 0) return;

  words = [...repeatQueue].sort(() => Math.random() - 0.5);
  repeatQueue = []; 
  index = 0;
  showingFront = true;
  
  document.getElementById("review-now-btn").classList.add("hidden");
  document.getElementById("unit-title").innerText = "Reviewing Tricky Words";
  
  showCard();
}

function showCard() {
  const card = words[index];
  const cardText = document.getElementById("card-text");
  
  // Set the text based on direction and flip state
  if (direction === "welsh-to-english") {
    cardText.innerText = showingFront ? card.front : card.back;
  } else {
    cardText.innerText = showingFront ? card.back : card.front;
  }

  // Update the progress counter
  document.getElementById("progress-text").innerText = (index + 1) + " / " + words.length;
}

  function flipCard() {
  showingFront = !showingFront;
  showCard();
}

function goHome() {
  document.getElementById("flashcards").classList.add("hidden");
  document.getElementById("home").classList.remove("hidden");
}

function toggleDirection() {
  if (direction === "welsh-to-english") {
    direction = "english-to-welsh";
    document.getElementById("directionBtn").innerText = "English â†’ Welsh";
  } else {
    direction = "welsh-to-english";
    document.getElementById("directionBtn").innerText = "Welsh â†’ English";
  }
}
    function startTest() {
  const selected = [...document.querySelectorAll("#test-units input:checked")]
    .map(cb => cb.value);

  if (selected.length === 0) {
    alert("Select at least one unit");
    return;
  }

  isTestMode = true;

  let pool = [];
  selected.forEach(unit => {
    pool = pool.concat(UNITS[unit]);
  });

  words = pool.sort(() => Math.random() - 0.5).slice(0, 30);
  index = 0;
  showingFront = true;

  document.getElementById("home").classList.add("hidden");
  document.getElementById("flashcards").classList.remove("hidden");
  document.getElementById("unit-title").innerText = "TEST";

  showCard();
}
function showConfetti() {
  document.body.innerHTML = `
    <h1>ðŸŽ‰ Test complete! ðŸŽ‰</h1>
    <p>Da iawn â€“ gwaith bendigedig!</p>
    <button onclick="location.reload()">Back to home</button>
  `;
}

function showGlossary() {
  let html = "<h2>Glossary</h2><ul>";

  Object.values(UNITS).flat().forEach(card => {
    html += `<li><strong>${card.front}</strong> â€“ ${card.back}</li>`;
  });

  html += "</ul><button onclick='location.reload()'>Back</button>";
  document.body.innerHTML = html;
}
function buildTestUnitOptions() {
  const testUnitsDiv = document.getElementById("test-units");
  testUnitsDiv.innerHTML = "";

  Object.keys(UNITS).forEach(unit => {
    testUnitsDiv.innerHTML += `
      <label>
        <input type="checkbox" value="${unit}">
        ${unit}
      </label><br>
    `;
  });
}

buildTestUnitOptions();


  
</script>

</body>
</html>














